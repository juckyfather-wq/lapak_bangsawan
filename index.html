l<!doctype html><html lang="id"> <head>  <meta charset="UTF-8">  <meta name="viewport" content="width=device-width, initial-scale=1.0">  <title>Lapak Bangsawan - Toko Online Premium</title>  <script src="https://cdn.tailwindcss.com"></script>  <style>    body {      box-sizing: border-box;      margin: 0;      padding: 0;    }        * {      box-sizing: border-box;    }    .gradient-bg {      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);    }    .card-hover {      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);    }    .card-hover:hover {      transform: translateY(-8px);      box-shadow: 0 20px 40px rgba(0,0,0,0.15);    }    .loading-spinner {      border: 3px solid #f3f3f3;      border-top: 3px solid #667eea;      border-radius: 50%;      width: 40px;      height: 40px;      animation: spin 1s linear infinite;    }    @keyframes spin {      0% { transform: rotate(0deg); }      100% { transform: rotate(360deg); }    }    .toast {      position: fixed;      bottom: 20px;      right: 20px;      padding: 16px 24px;      border-radius: 12px;      box-shadow: 0 8px 32px rgba(0,0,0,0.2);      z-index: 1000;      animation: slideIn 0.3s ease-out;      max-width: 400px;    }    @keyframes slideIn {      from {        transform: translateX(400px);        opacity: 0;      }      to {        transform: translateX(0);        opacity: 1;      }    }    .weight-selector {      display: grid;      grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));      gap: 8px;      margin: 12px 0;    }    .weight-option {      padding: 8px 12px;      border: 2px solid #e5e7eb;      border-radius: 8px;      text-align: center;      cursor: pointer;      transition: all 0.2s;      font-size: 14px;      font-weight: 600;    }    .weight-option:hover {      border-color: #667eea;      background: #f8faff;    }    .weight-option.selected {      border-color: #667eea;      background: #667eea;      color: white;    }    .badge {      position: absolute;      top: -8px;      right: -8px;      background: #ef4444;      color: white;      border-radius: 50%;      width: 24px;      height: 24px;      display: flex;      align-items: center;      justify-content: center;      font-size: 12px;      font-weight: bold;    }    .modal-overlay {      position: fixed;      top: 0;      left: 0;      right: 0;      bottom: 0;      background: rgba(0, 0, 0, 0.5);      display: flex;      align-items: center;      justify-content: center;      z-index: 1000;      padding: 20px;      animation: fadeIn 0.2s ease-out;    }    @keyframes fadeIn {      from { opacity: 0; }      to { opacity: 1; }    }    .modal-content {      background: white;      border-radius: 16px;      max-width: 600px;      width: 100%;      max-height: 90%;      overflow-y: auto;      animation: slideUp 0.3s ease-out;    }    @keyframes slideUp {      from {        transform: translateY(50px);        opacity: 0;      }      to {        transform: translateY(0);        opacity: 1;      }    }    .product-image {      width: 100%;      height: 200px;      object-fit: cover;      border-radius: 12px;    }    .delete-confirm {      background: rgba(239, 68, 68, 0.1);      border: 2px solid #ef4444;      padding: 12px;      border-radius: 8px;      margin-top: 12px;    }    @media (max-width: 768px) {      .weight-selector {        grid-template-columns: repeat(3, 1fr);      }    }  </style>  <style>@view-transition { navigation: auto; }</style>  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>  <script src="/_sdk/element_sdk.js" type="text/javascript"></script> </head>  <div id="app"></div>  <script>    // Konstanta    const CATEGORIES = ['Semua', 'Ayam Potong', 'Ikan Hidup', 'Kerupuk', 'Seafood'];    const WEIGHT_OPTIONS = [      { value: 0.5, label: '500g' },      { value: 1, label: '1kg' },      { value: 1.5, label: '1.5kg' },      { value: 2, label: '2kg' },      { value: 2.5, label: '2.5kg' },      { value: 3, label: '3kg' },      { value: 4, label: '4kg' },      { value: 5, label: '5kg' },      { value: 7.5, label: '7.5kg' },      { value: 10, label: '10kg' }    ];    // Data produk awal (contoh)    const INITIAL_PRODUCTS = [      {        id: 'prod-1',        name: 'Ayam Potong ',        category: 'Ayam Potong',        price: 31000,        unit: 'kg',        image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTqwnvpiCW-nLluEWbMhDNY_yReOLiDMFB46hWLzcFTT0gn2L5pBBC8FN9V&s=10',        description: 'Daging ayam potong segar, empuk, dan siap masak! Cocok untuk semua jenis masakan rumahan & usaha kuliner.',        stock: 50,        hasWeight: true      },   {        id: 'prod-8',        name: 'Ceker',        category: 'Ayam Potong',        price: 22000,        unit: 'kg',        image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTNtoYP8Tn7MI0eHb6KjbTmI1h2IQFhRu_nMRDBLUvEERj75akuUnh3HkY&s=10',        description: 'Ceker ayam pilihan, bersih, empuk, cocok untuk dimasak pedas atau jadi topping favorit!',        stock: 20,        hasWeight: true      },  {        id: 'prod-9',        name: 'Kepala',        category: 'Ayam Potong',        price: 14000,        unit: 'kg',        image: 'https://www.static-src.com/wcsstore/Indraprastha/images/catalog/full//89/MTA-13934320/hypermart_ayam-kepala-460-gr_full01.jpg',        description: 'Kepala ayam segar, cocok untuk soto, gulai, atau masakan khas lainnya. Bikin rasa makin gurih! ni',        stock: 20,        hasWeight: true      },  {        id: 'prod-10',        name: 'Ati Ampela',        category: 'Ayam Potong',        price: 24000,        unit: 'kg',        image: 'https://www.static-src.com/wcsstore/Indraprastha/images/catalog/full//95/MTA-52437254/ayam_ampela_ayam_halal_premium_frozen_murah_bekasi_fresh_bersih_segar_beku_daging_potong_mentah_hati_ati_rempela_full02_f73bwdh0.jpg',        description: 'Ati ampela segar, bersih, cocok untuk digoreng, tumis, atau jadi lauk favorit keluarga!',        stock: 20,        hasWeight: true      },  {        id: 'prod-11',        name: 'Fillet Dada Full Daging',        category: 'Ayam Potong',        price: 41000,        unit: 'kg',        image: 'https://cdn.ralali.id/assets/img/Libraries/Dada-ayam-fillet-terbang-(1-kg)_oVwIXJhkFGr0ewrR_1667198392.png',        description: 'Fllet dada segar pilihan, dipotong sesuai permintaan',        stock: 20,        hasWeight: true      },  {        id: 'prod-12',        name: 'Daging Kambing Empuk',        category: 'Seafood',        price: 150000,        unit: 'kg',        image: 'https://media.istockphoto.com/id/1201777916/id/foto/daging-kambing-mentah-segar-yang-tidak-dimasak.jpg?s=170667a&w=0&k=20&c=08eLL3ogGYBKZ0I91hMCajR2uOmS9rOZGPotiJdzFw8=',        description: 'Daging kambing muda, empuk & tidak bau. Cocok untuk sate, gulai, atau tongseng spesial!',        stock: 25,        hasWeight: true      },  {        id: 'prod-13',        name: 'Daging Lemak Kambing',        category: 'Seafood',        price: 120000,        unit: 'kg',        image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ9KN921dSP-hfMz6jPGFLDxTzZhwsTJwaoYDeQETT96ViktYRLHggAHxJS&s=10',        description: 'Lemak kambing pilihan, cocok untuk sate, gulai, atau bumbu dapur. Rasa gurih alami!',        stock: 25,        hasWeight: true      },      {        id: 'prod-2',        name: 'Ikan Lele Hidup',        category: 'Ikan Hidup',        price: 25000,        unit: 'kg',        image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRtvcywIUsbH1vZxxr8riWtW7a4h28wLhjtkbvpmkYuog&s=10',        description: 'Lele segar siap olah, daging lembut, cocok untuk pecel lele, goreng, atau bakar.',        stock: 40,        hasWeight: true      },      {        id: 'prod-3',        name: 'Kerupuk Udang',        category: 'Kerupuk',        price: 15000,        unit: 'pack',        image: 'https://images.unsplash.com/photo-1599490659213-e2b9527bd087?w=400&h=300&fit=crop',        description: 'Kerupuk udang renyah, cocok untuk pelengkap makan',        stock: 100,        hasWeight: false      },      {        id: 'prod-4',        name: 'Udang Sedang',        category: 'Seafood',        price: 70000,        unit: 'kg',        image: 'https://slide.babelprov.go.id/media/image/jpeg/867a8905e5400d114ab14902ecad1030.jpg',        description: 'Udang segar ukuran besar, langsung dari tambak',        stock: 25,        hasWeight: true      },      {        id: 'prod-5',        name: 'Ikan Tongkol',        category: 'Seafood',        price: 30000,        unit: 'kg',        image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ2PwMpfeccI_H7zXGRldbvYk-hJXy9W8Ie1C99DvBi0A&s=10',        description: 'Tongkol segar, cocok untuk balado, rica, dan masakan rumahan lainnya. Daging padat & gurih!',        stock: 30,        hasWeight: true      },      {        id: 'prod-6',        name: 'Kerupuk Rajungan Renyah',        category: 'Kerupuk',        price: 17000,        unit: 'pack',        image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRNJHo0pm2yNf9QpD7L_oC4_LslAA7THa0SRysozdQprobU5j8rJ-1hXfc&s=10',        description: 'Kerupuk rajungan gurih dan renyah, cocok jadi camilan atau pelengkap makan!',        stock: 80,        hasWeight: false      },   {        id: 'prod-7',        name: 'Ikan Nila Hidup',        category: 'Ikan Hidup',        price: 33000,        unit: 'kg',        image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ8VlKMD2sg-Z4CYL-YUaMvdrL-mdN4keu_6qBlaYwLFQ&s=10',        description: 'Nila segar, daging tebal, bebas amis. Cocok untuk bakar, goreng, atau kuah asam!',        stock: 20,        hasWeight: true      },    ];    // State Management    let state = {      currentPage: 'home',      selectedCategory: 'Semua',      cart: [],      orders: [],      products: [...INITIAL_PRODUCTS],      toast: null,      isLoading: false,      adminPassword: 'lapak123',      isAdmin: false,      showModal: false,      modalType: null,      editingProduct: null,      deleteConfirm: null    };    // Toast Notification    function showToast(message, type = 'success') {      state.toast = { message, type };      render();      setTimeout(() => {        state.toast = null;        render();      }, 4000);    }    // Cart Functions    function addToCart(product, weight = 1, quantity = 1) {      if (product.stock < quantity) {        showToast('Stok tidak mencukupi!', 'error');        return;      }      const cartItem = {        ...product,        cartId: `${product.id}-${weight}`,        weight: weight,        quantity: quantity,        totalPrice: product.price * weight * quantity      };      const existingItem = state.cart.find(item => item.cartId === cartItem.cartId);      if (existingItem) {        state.cart = state.cart.map(item =>          item.cartId === cartItem.cartId            ? { ...item, quantity: item.quantity + quantity, totalPrice: item.price * item.weight * (item.quantity + quantity) }            : item        );      } else {        state.cart.push(cartItem);      }      showToast(`${product.name} ditambahkan ke keranjang`);      render();    }    function updateCartQuantity(cartId, newQuantity) {      if (newQuantity <= 0) {        state.cart = state.cart.filter(item => item.cartId !== cartId);      } else {        state.cart = state.cart.map(item =>          item.cartId === cartId             ? { ...item, quantity: newQuantity, totalPrice: item.price * item.weight * newQuantity }            : item        );      }      render();    }    function removeFromCart(cartId) {      state.cart = state.cart.filter(item => item.cartId !== cartId);      showToast('Produk dihapus dari keranjang');      render();    }    function getTotalPrice() {      return state.cart.reduce((total, item) => total + item.totalPrice, 0);    }    function getCartItemCount() {      return state.cart.reduce((total, item) => total + item.quantity, 0);    }    // WhatsApp Function    function sendToWhatsApp(orderData) {      const phone = '62859110022099'; // Ganti dengan nomor WhatsApp toko      let message = `*PESANAN BARU - Lapak Bangsawan*\n\n`;      message += `üë§ *Pelanggan:* ${orderData.customer_name}\n`;      message += `üì± *Telepon:* ${orderData.customer_phone}\n`;      message += `üìç *Alamat:* ${orderData.customer_address}\n\n`;      message += `üõí *Detail Pesanan:*\n`;            state.cart.forEach(item => {        message += `‚Ä¢ ${item.name}`;        if (item.hasWeight) {          message += ` (${item.weight}kg)`;        }        message += ` x${item.quantity} = Rp ${item.totalPrice.toLocaleString('id-ID')}\n`;      });            message += `\nüí∞ *Total: Rp ${getTotalPrice().toLocaleString('id-ID')}*\n\n`;      message += `üìÖ *Waktu Pesan:* ${new Date().toLocaleString('id-ID')}\n\n`;      message += `Terima kasih telah berbelanja di Lapak Bangsawan! üôè`;      const encodedMessage = encodeURIComponent(message);      const whatsappUrl = `https://wa.me/${phone}?text=${encodedMessage}`;            window.open(whatsappUrl, '_blank', 'noopener,noreferrer');    }    // Order Functions    function handleCheckout(formData) {      if (!formData.name || !formData.phone || !formData.address) {        showToast('Mohon lengkapi semua data', 'error');        return;      }      state.isLoading = true;      render();      const orderData = {        customer_name: formData.name,        customer_phone: formData.phone,        customer_address: formData.address      };      // Simulasi delay untuk loading      setTimeout(() => {        const newOrder = {          id: `order-${Date.now()}`,          ...orderData,          items: [...state.cart],          total: getTotalPrice(),          status: 'pending',          date: new Date()        };        state.orders.push(newOrder);        state.isLoading = false;                showToast('Pesanan berhasil dibuat!');        sendToWhatsApp(orderData);        state.cart = [];                setTimeout(() => {          state.currentPage = 'orders';          render();        }, 2000);      }, 1000);    }    // Admin Functions    function updateOrderStatus(orderId, newStatus) {      state.orders = state.orders.map(order =>        order.id === orderId ? { ...order, status: newStatus } : order      );      showToast(`Status pesanan diubah menjadi ${newStatus}`);      render();    }    // Product CRUD Functions    function handleCreateProduct(formData) {      if (state.products.length >= 999) {        showToast('Batas maksimum 999 produk tercapai.', 'error');        return;      }      state.isLoading = true;      render();      setTimeout(() => {        const newProduct = {          id: `prod-${Date.now()}`,          name: formData.name,          category: formData.category,          price: parseFloat(formData.price),          unit: formData.unit,          image: formData.image,          description: formData.description,          stock: parseInt(formData.stock),          hasWeight: formData.hasWeight        };        state.products.push(newProduct);        state.isLoading = false;        showToast('Produk berhasil ditambahkan!');        closeModal();      }, 500);    }    function handleUpdateProduct(formData) {      state.isLoading = true;      render();      setTimeout(() => {        state.products = state.products.map(product =>          product.id === state.editingProduct.id            ? {                ...product,                name: formData.name,                category: formData.category,                price: parseFloat(formData.price),                unit: formData.unit,                image: formData.image,                description: formData.description,                stock: parseInt(formData.stock),                hasWeight: formData.hasWeight              }            : product        );        state.isLoading = false;        showToast('Produk berhasil diupdate!');        closeModal();      }, 500);    }    function handleDeleteProduct(productId) {      state.isLoading = true;      render();      setTimeout(() => {        state.products = state.products.filter(p => p.id !== productId);        state.isLoading = false;        state.deleteConfirm = null;        showToast('Produk berhasil dihapus!');        render();      }, 500);    }    function openModal(type, product = null) {      state.showModal = true;      state.modalType = type;      state.editingProduct = product;      render();    }    function closeModal() {  state.showModal = false; // ubah dari true ke false  state.modalType = null;  state.editingProduct = null;  render();}    function checkAdminPassword() {      const password = document.getElementById('admin-password').value;      if (password === state.adminPassword) {        state.isAdmin = true;        state.currentPage = 'admin';        showToast('Login admin berhasil!');        render();      } else {        showToast('Password salah!', 'error');      }    }    // Render Functions    function render() {      const app = document.getElementById('app');            app.innerHTML = `        <div style="min-height: 100vh; background: #f8fafc;">          ${renderHeader()}          <main style="padding-top: 80px; padding-bottom: 40px;">            ${renderCurrentPage()}          </main>          ${state.toast ? renderToast() : ''}          ${state.showModal ? renderModal() : ''}        </div>      `;      attachEventListeners();    }    function renderHeader() {      const cartCount = getCartItemCount();      return `        <header style="position: fixed; top: 0; left: 0; right: 0; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 16px 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); z-index: 100;">          <div style="max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px;">            <div onclick="navigateTo('home')" style="cursor: pointer;">              <h1 style="margin: 0; font-size: 24px; font-weight: bold;">                Lapak Bangsawan              </h1>              <p style="margin: 4px 0 0 0; font-size: 14px; opacity: 0.9;">                Produk Segar Berkualitas Premium              </p>            </div>            <nav style="display: flex; gap: 12px; align-items: center; flex-wrap: wrap;">              <button onclick="navigateTo('home')" class="nav-btn" style="background: ${state.currentPage === 'home' ? 'white' : 'transparent'}; color: ${state.currentPage === 'home' ? '#667eea' : 'white'}; border: 2px solid white; padding: 8px 16px; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: 600; transition: all 0.2s;">                Beranda              </button>              <button onclick="navigateTo('products')" class="nav-btn" style="background: ${state.currentPage === 'products' ? 'white' : 'transparent'}; color: ${state.currentPage === 'products' ? '#667eea' : 'white'}; border: 2px solid white; padding: 8px 16px; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: 600; transition: all 0.2s;">                Produk              </button>              <button onclick="navigateTo('orders')" class="nav-btn" style="background: ${state.currentPage === 'orders' ? 'white' : 'transparent'}; color: ${state.currentPage === 'orders' ? '#667eea' : 'white'}; border: 2px solid white; padding: 8px 16px; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: 600; transition: all 0.2s;">                Pesanan              </button>              <button onclick="navigateTo('cart')" style="background: ${state.currentPage === 'cart' ? 'white' : 'transparent'}; color: ${state.currentPage === 'cart' ? '#667eea' : 'white'}; border: 2px solid white; padding: 8px 16px; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: 600; position: relative; transition: all 0.2s;">                üõí Keranjang                ${cartCount > 0 ? `<span class="badge">${cartCount}</span>` : ''}              </button>              ${!state.isAdmin ? `                <button onclick="navigateTo('admin-login')" style="background: transparent; color: white; border: 2px solid white; padding: 8px 16px; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600;">                  Admin                </button>              ` : `                <button onclick="navigateTo('admin')" class="nav-btn" style="background: ${state.currentPage === 'admin' ? 'white' : 'transparent'}; color: ${state.currentPage === 'admin' ? '#667eea' : 'white'}; border: 2px solid white; padding: 8px 16px; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: 600;">                  Admin Panel                </button>              `}            </nav>          </div>        </header>      `;    }    function renderCurrentPage() {      switch (state.currentPage) {        case 'home':          return renderHomePage();        case 'products':          return renderProductsPage();        case 'cart':          return renderCartPage();        case 'checkout':          return renderCheckoutPage();        case 'orders':          return renderOrdersPage();        case 'admin-login':          return renderAdminLoginPage();        case 'admin':          return renderAdminPage();        default:          return renderHomePage();      }    }    function renderHomePage() {      return `        <section style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 80px 24px; text-align: center;">          <div style="max-width: 800px; margin: 0 auto;">            <h1 style="font-size: 40px; font-weight: bold; margin-bottom: 24px; line-height: 1.2;">              Selamat Datang di Lapak Bangsawan            </h1>            <p style="font-size: 20px; margin-bottom: 32px; opacity: 0.9;">              Produk Segar Berkualitas Premium            </p>            <button onclick="navigateTo('products')" style="background: white; color: #667eea; border: none; padding: 16px 32px; border-radius: 12px; font-size: 18px; font-weight: bold; cursor: pointer; transition: all 0.2s;">              Mulai Belanja Sekarang            </button>          </div>        </section>        <section style="padding: 80px 24px; background: white;">          <div style="max-width: 1200px; margin: 0 auto;">            <h2 style="font-size: 32px; text-align: center; margin-bottom: 48px; color: #1f2937; font-weight: bold;">              Mengapa Pilih Kami?            </h2>            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 32px;">              ${renderFeatureCard('ü•©', 'Produk Segar', 'Semua produk dipilih langsung dari sumber terpercaya dengan kualitas terjamin')}              ${renderFeatureCard('‚öñÔ∏è', 'Berat Fleksibel', 'Pilih berat sesuai kebutuhan, dari 500g hingga 10kg untuk ayam dan ikan lele')}              ${renderFeatureCard('üì±', 'Pesan via WhatsApp', 'Checkout langsung ke WhatsApp untuk komunikasi yang lebih mudah dan cepat')}              ${renderFeatureCard('üöö', 'Pengiriman Cepat', 'Pengiriman dalam 1-2 jam dengan sistem tracking pesanan real-time')}              ${renderFeatureCard('üìä', 'Stok Real-time', 'Informasi stok produk selalu update untuk memastikan ketersediaan')}              ${renderFeatureCard('üíØ', 'Harga Terbaik', 'Harga kompetitif dengan kualitas premium untuk kepuasan pelanggan')}            </div>          </div>        </section>      `;    }    function renderFeatureCard(icon, title, description) {      return `        <div class="card-hover" style="background: #f8fafc; padding: 32px; border-radius: 16px; text-align: center; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">          <div style="font-size: 48px; margin-bottom: 16px;">${icon}</div>          <h3 style="font-size: 20px; margin-bottom: 12px; color: #1f2937; font-weight: bold;">            ${title}          </h3>          <p style="font-size: 16px; color: #1f2937; opacity: 0.7; line-height: 1.6;">            ${description}          </p>        </div>      `;    }    function renderProductsPage() {      const filteredProducts = state.selectedCategory === 'Semua'        ? state.products        : state.products.filter(p => p.category === state.selectedCategory);      return `        <div style="max-width: 1200px; margin: 0 auto; padding: 24px;">          <div style="margin-bottom: 32px;">            <h2 style="font-size: 32px; color: #1f2937; margin-bottom: 16px; font-weight: bold;">              Katalog Produk            </h2>            <div style="display: flex; gap: 12px; flex-wrap: wrap;">              ${CATEGORIES.map(category => `                <button onclick="selectCategory('${category}')" style="background: ${state.selectedCategory === category ? '#667eea' : 'white'}; color: ${state.selectedCategory === category ? 'white' : '#1f2937'}; border: 2px solid #667eea; padding: 12px 24px; border-radius: 24px; cursor: pointer; font-size: 16px; font-weight: 600; transition: all 0.2s;">                  ${category}                </button>              `).join('')}            </div>          </div>          ${filteredProducts.length === 0 ? `            <div style="text-align: center; padding: 60px 24px; background: white; border-radius: 16px;">              <div style="font-size: 64px; margin-bottom: 16px;">üì¶</div>              <h3 style="font-size: 24px; color: #1f2937; margin-bottom: 12px;">                Belum Ada Produk              </h3>              <p style="font-size: 16px; color: #1f2937; opacity: 0.7;">                ${state.isAdmin ? 'Silakan tambahkan produk melalui Admin Panel' : 'Produk akan segera tersedia'}              </p>            </div>          ` : `            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 24px;">              ${filteredProducts.map(product => renderProductCard(product)).join('')}            </div>          `}        </div>      `;    }    function renderProductCard(product) {      return `        <div class="card-hover" style="background: white; border-radius: 16px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 1px solid #f8fafc;">          <img src="${product.image}" alt="${product.name}" class="product-image" style="margin-bottom: 16px;" onerror="this.src=''; this.alt='Gambar tidak tersedia'; this.style.display='none';">                    <h3 style="font-size: 20px; color: #1f2937; margin-bottom: 8px; font-weight: bold;">            ${product.name}          </h3>                    <p style="font-size: 14px; color: #1f2937; opacity: 0.7; margin-bottom: 12px; line-height: 1.5;">            ${product.description}          </p>          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">            <span style="font-size: 20px; color: #667eea; font-weight: bold;">              Rp ${product.price.toLocaleString('id-ID')}            </span>            <div style="text-align: right;">              <span style="font-size: 14px; color: #1f2937; opacity: 0.6;">                per ${product.unit}              </span>              <div style="font-size: 14px; color: ${product.stock > 10 ? '#10b981' : product.stock > 0 ? '#f59e0b' : '#ef4444'}; font-weight: 600;">                Stok: ${product.stock}              </div>            </div>          </div>          ${product.hasWeight ? `            <div style="margin-bottom: 16px;">              <label style="display: block; font-size: 14px; color: #1f2937; margin-bottom: 8px; font-weight: 600;">                Pilih Berat:              </label>              <div class="weight-selector" id="weight-${product.id}">                ${WEIGHT_OPTIONS.map(option => `                  <div class="weight-option" data-weight="${option.value}" onclick="selectWeight('${product.id}', ${option.value})">                    ${option.label}                  </div>                `).join('')}              </div>            </div>          ` : ''}          <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">            <label style="font-size: 14px; color: #1f2937; font-weight: 600;">              Jumlah:            </label>            <div style="display: flex; align-items: center; gap: 8px;">              <button onclick="updateQuantity('${product.id}', -1)" style="background: #f8fafc; border: 2px solid #667eea; color: #667eea; width: 32px; height: 32px; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold;">                -              </button>              <span id="quantity-${product.id}" style="font-size: 16px; font-weight: bold; min-width: 32px; text-align: center; color: #1f2937;">                1              </span>              <button onclick="updateQuantity('${product.id}', 1)" style="background: #667eea; border: none; color: white; width: 32px; height: 32px; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold;">                +              </button>            </div>          </div>          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; padding: 12px; background: #f8fafc; border-radius: 8px;">            <span style="font-size: 14px; color: #1f2937; font-weight: 600;">              Total Harga:            </span>            <span id="total-${product.id}" style="font-size: 18px; color: #667eea; font-weight: bold;">              Rp ${product.price.toLocaleString('id-ID')}            </span>          </div>          <button onclick="addProductToCart('${product.id}')" ${product.stock === 0 ? 'disabled' : ''} style="width: 100%; background: ${product.stock === 0 ? '#f8fafc' : '#667eea'}; color: ${product.stock === 0 ? '#1f2937' : 'white'}; border: none; padding: 12px; border-radius: 12px; cursor: ${product.stock === 0 ? 'not-allowed' : 'pointer'}; font-size: 16px; font-weight: 600; transition: all 0.2s; opacity: ${product.stock === 0 ? 0.5 : 1};">            ${product.stock === 0 ? 'Stok Habis' : '+ Tambah ke Keranjang'}          </button>        </div>      `;    }    function renderCartPage() {      if (state.cart.length === 0) {        return `          <div style="max-width: 1200px; margin: 0 auto; padding: 24px; text-align: center;">            <div style="font-size: 64px; margin-bottom: 16px;">üõí</div>            <h2 style="font-size: 24px; color: #1f2937; margin-bottom: 16px;">              Keranjang Kosong            </h2>            <p style="font-size: 16px; color: #1f2937; opacity: 0.7; margin-bottom: 24px;">              Belum ada produk di keranjang Anda            </p>            <button onclick="navigateTo('products')" style="background: #667eea; color: white; border: none; padding: 12px 32px; border-radius: 12px; cursor: pointer; font-size: 16px; font-weight: 600;">              Mulai Belanja            </button>          </div>        `;      }      return `        <div style="max-width: 1200px; margin: 0 auto; padding: 24px;">          <h2 style="font-size: 32px; color: #1f2937; margin-bottom: 24px; font-weight: bold;">            Keranjang Belanja          </h2>          <div style="display: grid; gap: 16px; margin-bottom: 24px;">            ${state.cart.map(item => `              <div style="background: white; border-radius: 16px; padding: 24px; display: flex; gap: 20px; align-items: center; box-shadow: 0 4px 20px rgba(0,0,0,0.08); flex-wrap: wrap;">                <img src="${item.image}" alt="${item.name}" style="width: 80px; height: 80px; object-fit: cover; border-radius: 12px;" onerror="this.style.display='none';">                <div style="flex: 1; min-width: 200px;">                  <h3 style="font-size: 18px; color: #1f2937; margin-bottom: 4px; font-weight: bold;">                    ${item.name}                  </h3>                  <p style="font-size: 16px; color: #667eea; font-weight: bold; margin-bottom: 4px;">                    Rp ${item.price.toLocaleString('id-ID')} / ${item.unit}                  </p>                  ${item.hasWeight ? `                    <p style="font-size: 14px; color: #1f2937; opacity: 0.7;">                      Berat: ${item.weight}kg                    </p>                  ` : ''}                </div>                <div style="display: flex; align-items: center; gap: 12px;">                  <button onclick="updateCartItemQuantity('${item.cartId}', ${item.quantity - 1})" style="background: #f8fafc; border: 2px solid #667eea; color: #667eea; width: 36px; height: 36px; border-radius: 8px; cursor: pointer; font-size: 20px; font-weight: bold;">                    -                  </button>                  <span style="font-size: 18px; font-weight: bold; min-width: 40px; text-align: center; color: #1f2937;">                    ${item.quantity}                  </span>                  <button onclick="updateCartItemQuantity('${item.cartId}', ${item.quantity + 1})" style="background: #667eea; border: none; color: white; width: 36px; height: 36px; border-radius: 8px; cursor: pointer; font-size: 20px; font-weight: bold;">                    +                  </button>                </div>                <div style="text-align: right; min-width: 120px;">                  <p style="font-size: 18px; color: #1f2937; font-weight: bold; margin-bottom: 8px;">                    Rp ${item.totalPrice.toLocaleString('id-ID')}                  </p>                  <button onclick="removeCartItem('${item.cartId}')" style="background: transparent; border: none; color: #ef4444; cursor: pointer; font-size: 14px; text-decoration: underline; font-weight: 600;">                    Hapus                  </button>                </div>              </div>            `).join('')}          </div>          <div style="background: white; border-radius: 16px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">              <span style="font-size: 20px; color: #1f2937; font-weight: bold;">                Total Belanja:              </span>              <span style="font-size: 32px; color: #667eea; font-weight: bold;">                Rp ${getTotalPrice().toLocaleString('id-ID')}              </span>            </div>            <button onclick="navigateTo('checkout')" style="width: 100%; background: #667eea; color: white; border: none; padding: 16px; border-radius: 12px; cursor: pointer; font-size: 18px; font-weight: bold; transition: all 0.2s;">              Lanjut ke Checkout            </button>          </div>        </div>      `;    }    function renderCheckoutPage() {      if (state.cart.length === 0) {        return `          <div style="max-width: 1200px; margin: 0 auto; padding: 24px; text-align: center;">            <h2 style="font-size: 24px; color: #1f2937;">              Keranjang kosong            </h2>            <button onclick="navigateTo('products')" style="margin-top: 20px; background: #667eea; color: white; border: none; padding: 12px 32px; border-radius: 12px; cursor: pointer; font-size: 16px; font-weight: 600;">              Kembali Belanja            </button>          </div>        `;      }      return `        <div style="max-width: 800px; margin: 0 auto; padding: 24px;">          <h2 style="font-size: 32px; color: #1f2937; margin-bottom: 24px; font-weight: bold;">            Checkout Pesanan          </h2>          <div style="background: white; border-radius: 16px; padding: 24px; margin-bottom: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">            <h3 style="font-size: 20px; color: #1f2937; margin-bottom: 16px; font-weight: bold;">              Ringkasan Pesanan            </h3>            ${state.cart.map(item => `              <div style="display: flex; justify-content: space-between; margin-bottom: 12px; padding-bottom: 12px; border-bottom: 1px solid #f8fafc;">                <span style="font-size: 16px; color: #1f2937;">                  ${item.name} ${item.hasWeight ? `(${item.weight}kg)` : ''} x ${item.quantity}                </span>                <span style="font-size: 16px; color: #1f2937; font-weight: bold;">                  Rp ${item.totalPrice.toLocaleString('id-ID')}                </span>              </div>            `).join('')}            <div style="display: flex; justify-content: space-between; margin-top: 16px; padding-top: 16px; border-top: 2px solid #667eea;">              <span style="font-size: 20px; color: #1f2937; font-weight: bold;">                Total:              </span>              <span style="font-size: 28px; color: #667eea; font-weight: bold;">                Rp ${getTotalPrice().toLocaleString('id-ID')}              </span>            </div>          </div>          <form id="checkout-form" onsubmit="submitCheckout(event)" style="background: white; border-radius: 16px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">            <h3 style="font-size: 20px; color: #1f2937; margin-bottom: 20px; font-weight: bold;">              Data Pengiriman            </h3>            <div style="margin-bottom: 20px;">              <label for="customer-name" style="display: block; font-size: 16px; color: #1f2937; margin-bottom: 8px; font-weight: 600;">                Nama Lengkap *              </label>              <input id="customer-name" type="text" required style="width: 100%; padding: 12px 16px; border-radius: 12px; border: 2px solid #f8fafc; font-size: 16px; color: #1f2937; background: white;" placeholder="Masukkan nama lengkap">            </div>            <div style="margin-bottom: 20px;">              <label for="customer-phone" style="display: block; font-size: 16px; color: #1f2937; margin-bottom: 8px; font-weight: 600;">                Nomor Telepon *              </label>              <input id="customer-phone" type="tel" required style="width: 100%; padding: 12px 16px; border-radius: 12px; border: 2px solid #f8fafc; font-size: 16px; color: #1f2937; background: white;" placeholder="08xx-xxxx-xxxx">            </div>            <div style="margin-bottom: 24px;">              <label for="customer-address" style="display: block; font-size: 16px; color: #1f2937; margin-bottom: 8px; font-weight: 600;">                Alamat Lengkap *              </label>              <textarea id="customer-address" required rows="4" style="width: 100%; padding: 12px 16px; border-radius: 12px; border: 2px solid #f8fafc; font-size: 16px; color: #1f2937; background: white; resize: vertical;" placeholder="Masukkan alamat lengkap pengiriman"></textarea>            </div>            <div style="background: #f8fafc; padding: 16px; border-radius: 12px; margin-bottom: 24px;">              <p style="font-size: 14px; color: #1f2937; margin: 0; line-height: 1.5;">                üì± Setelah checkout, Anda akan diarahkan ke WhatsApp untuk konfirmasi pesanan dengan admin kami.              </p>            </div>            <button type="submit" ${state.isLoading ? 'disabled' : ''} style="width: 100%; background: ${state.isLoading ? '#f8fafc' : '#667eea'}; color: white; border: none; padding: 16px; border-radius: 12px; cursor: ${state.isLoading ? 'not-allowed' : 'pointer'}; font-size: 18px; font-weight: bold; display: flex; align-items: center; justify-content: center; gap: 12px;">              ${state.isLoading ? '<div class="loading-spinner"></div> Memproses...' : 'üì± Checkout ke WhatsApp'}            </button>          </form>        </div>      `;    }    function renderOrdersPage() {      if (state.orders.length === 0) {        return `          <div style="max-width: 1200px; margin: 0 auto; padding: 24px;">            <h2 style="font-size: 32px; color: #1f2937; margin-bottom: 24px; font-weight: bold;">              Riwayat Pesanan            </h2>            <div style="text-align: center; padding: 40px; background: white; border-radius: 16px;">              <div style="font-size: 64px; margin-bottom: 16px;">üì¶</div>              <p style="font-size: 18px; color: #1f2937; opacity: 0.7;">                Belum ada pesanan              </p>            </div>          </div>        `;      }      return `        <div style="max-width: 1200px; margin: 0 auto; padding: 24px;">          <h2 style="font-size: 32px; color: #1f2937; margin-bottom: 24px; font-weight: bold;">            Riwayat Pesanan          </h2>          <div style="display: grid; gap: 20px;">            ${state.orders.map(order => `              <div style="background: white; border-radius: 16px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px; flex-wrap: wrap; gap: 16px;">                  <div>                    <h3 style="font-size: 20px; color: #1f2937; margin-bottom: 8px; font-weight: bold;">                      ${order.customer_name}                    </h3>                    <p style="font-size: 14px; color: #1f2937; opacity: 0.7; margin-bottom: 4px;">                      üìû ${order.customer_phone}                    </p>                    <p style="font-size: 14px; color: #1f2937; opacity: 0.7; margin-bottom: 8px;">                      üìç ${order.customer_address}                    </p>                    <p style="font-size: 14px; color: #1f2937; opacity: 0.7;">                      ${order.date.toLocaleString('id-ID')}                    </p>                  </div>                  <span style="display: inline-block; padding: 6px 12px; border-radius: 20px; font-size: 14px; font-weight: 600; background: ${order.status === 'completed' ? '#10b981' : order.status === 'processing' ? '#f59e0b' : '#6b7280'}; color: white;">                    ${order.status === 'pending' ? 'Menunggu' : order.status === 'processing' ? 'Diproses' : 'Selesai'}                  </span>                </div>                <div style="border-top: 1px solid #f8fafc; padding-top: 16px; margin-bottom: 16px;">                  <h4 style="font-size: 16px; color: #1f2937; margin-bottom: 12px; font-weight: bold;">                    Item Pesanan:                  </h4>                  ${order.items.map(item => `                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px; color: #1f2937;">                      <span>                        ${item.name} ${item.hasWeight ? `(${item.weight}kg)` : ''} x ${item.quantity}                      </span>                      <span style="font-weight: 600;">                        Rp ${item.totalPrice.toLocaleString('id-ID')}                      </span>                    </div>                  `).join('')}                  <div style="display: flex; justify-content: space-between; margin-top: 12px; padding-top: 12px; border-top: 2px solid #667eea; font-size: 18px; font-weight: bold; color: #667eea;">                    <span>Total:</span>                    <span>Rp ${order.total.toLocaleString('id-ID')}</span>                  </div>                </div>              </div>            `).join('')}          </div>        </div>      `;    }    function renderAdminLoginPage() {      return `        <div style="min-height: calc(100vh - 80px); display: flex; align-items: center; justify-content: center; padding: 24px;">          <div style="max-width: 400px; width: 100%; background: white; padding: 40px; border-radius: 20px; box-shadow: 0 20px 40px rgba(0,0,0,0.1);">            <h2 style="font-size: 28px; text-align: center; margin-bottom: 32px; color: #1f2937; font-weight: bold;">              Login Admin            </h2>            <div style="margin-bottom: 20px;">              <label for="admin-password" style="display: block; font-size: 16px; color: #1f2937; margin-bottom: 8px; font-weight: 600;">                Password Admin              </label>              <input id="admin-password" type="password" style="width: 100%; padding: 12px 16px; border-radius: 12px; border: 2px solid #f8fafc; font-size: 16px; color: #1f2937; background: white;" placeholder="Masukkan password admin">            </div>            <button onclick="checkAdminPassword()" style="width: 100%; background: #667eea; color: white; border: none; padding: 16px; border-radius: 12px; cursor: pointer; font-size: 18px; font-weight: bold; margin-bottom: 16px;">              Masuk            </button>            <div style="background: #f8fafc; padding: 12px; border-radius: 8px; text-align: center;">              <p style="font-size: 12px; color: #1f2937; opacity: 0.7; margin: 0;">                Password default: admin123              </p>            </div>          </div>        </div>      `;    }    function renderAdminPage() {      return `        <div style="max-width: 1200px; margin: 0 auto; padding: 24px;">          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; flex-wrap: wrap; gap: 16px;">            <h2 style="font-size: 32px; color: #1f2937; font-weight: bold; margin: 0;">              Panel Admin            </h2>            <button onclick="logoutAdmin()" style="background: #ef4444; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600;">              Logout            </button>          </div>          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 32px;">            <div style="background: #667eea; color: white; padding: 24px; border-radius: 16px; text-align: center;">              <div style="font-size: 40px; font-weight: bold; margin-bottom: 8px;">                ${state.orders.length}              </div>              <div style="font-size: 16px; opacity: 0.9;">                Total Pesanan              </div>            </div>            <div style="background: #10b981; color: white; padding: 24px; border-radius: 16px; text-align: center;">              <div style="font-size: 40px; font-weight: bold; margin-bottom: 8px;">                ${state.orders.filter(o => o.status === 'completed').length}              </div>              <div style="font-size: 16px; opacity: 0.9;">                Selesai              </div>            </div>            <div style="background: #f59e0b; color: white; padding: 24px; border-radius: 16px; text-align: center;">              <div style="font-size: 40px; font-weight: bold; margin-bottom: 8px;">                ${state.orders.filter(o => o.status === 'processing').length}              </div>              <div style="font-size: 16px; opacity: 0.9;">                Diproses              </div>            </div>            <div style="background: #6b7280; color: white; padding: 24px; border-radius: 16px; text-align: center;">              <div style="font-size: 40px; font-weight: bold; margin-bottom: 8px;">                ${state.orders.filter(o => o.status === 'pending').length}              </div>              <div style="font-size: 16px; opacity: 0.9;">                Menunggu              </div>            </div>          </div>          <div style="margin-bottom: 48px;">            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">              <h3 style="font-size: 24px; color: #1f2937; font-weight: bold; margin: 0;">                Kelola Produk              </h3>              <button onclick="openProductModal('create')" style="background: #667eea; color: white; border: none; padding: 12px 24px; border-radius: 12px; cursor: pointer; font-size: 16px; font-weight: 600;">                + Tambah Produk              </button>            </div>            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px;">              ${state.products.map(product => `                <div style="background: white; border-radius: 16px; padding: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); position: relative;">                  ${state.deleteConfirm === product.id ? `                    <div class="delete-confirm">                      <p style="font-size: 14px; color: #ef4444; margin-bottom: 12px; font-weight: 600;">                        Yakin hapus produk ini?                      </p>                      <div style="display: flex; gap: 8px;">                        <button onclick="confirmDelete('${product.id}')" style="flex: 1; background: #ef4444; color: white; border: none; padding: 8px; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600;">                          Ya, Hapus                        </button>                        <button onclick="cancelDelete()" style="flex: 1; background: #f8fafc; color: #1f2937; border: none; padding: 8px; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600;">                          Batal                        </button>                      </div>                    </div>                  ` : ''}                  <img src="${product.image}" alt="${product.name}" class="product-image" style="margin-bottom: 12px;" onerror="this.src=''; this.alt='Gambar tidak tersedia'; this.style.display='none';">                  <h4 style="font-size: 18px; color: #1f2937; margin-bottom: 8px; font-weight: bold;">                    ${product.name}                  </h4>                  <p style="font-size: 14px; color: #1f2937; opacity: 0.7; margin-bottom: 8px;">                    ${product.description}                  </p>                  <p style="font-size: 16px; color: #667eea; font-weight: bold; margin-bottom: 8px;">                    Rp ${product.price.toLocaleString('id-ID')} / ${product.unit}                  </p>                  <p style="font-size: 14px; color: #1f2937; margin-bottom: 12px;">                    Kategori: <strong>${product.category}</strong>                  </p>                  <p style="font-size: 14px; color: ${product.stock > 10 ? '#10b981' : product.stock > 0 ? '#f59e0b' : '#ef4444'}; font-weight: 600; margin-bottom: 16px;">                    Stok: ${product.stock}                  </p>                  <div style="display: flex; gap: 8px;">                    <button onclick="openProductModal('edit', '${product.id}')" style="flex: 1; background: #667eea; color: white; border: none; padding: 10px; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600;">                      Edit                    </button>                    <button onclick="requestDelete('${product.id}')" style="flex: 1; background: #ef4444; color: white; border: none; padding: 10px; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600;">                      Hapus                    </button>                  </div>                </div>              `).join('')}            </div>          </div>          <h3 style="font-size: 24px; color: #1f2937; margin-bottom: 24px; font-weight: bold;">            Kelola Pesanan          </h3>          ${state.orders.length === 0 ? `            <div style="text-align: center; padding: 40px; background: white; border-radius: 16px;">              <p style="font-size: 18px; color: #1f2937; opacity: 0.7;">                Belum ada pesanan              </p>            </div>          ` : `            <div style="display: grid; gap: 20px;">              ${state.orders.map(order => `                <div style="background: white; border-radius: 16px; padding: 24px; box-shadow: 0 4px 20px rgba(0,0,0,0.08);">                  <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px; flex-wrap: wrap; gap: 16px;">                    <div>                      <h3 style="font-size: 20px; color: #1f2937; margin-bottom: 8px; font-weight: bold;">                        ${order.customer_name}                      </h3>                      <p style="font-size: 14px; color: #1f2937; opacity: 0.7; margin-bottom: 4px;">                        üìû ${order.customer_phone}                      </p>                      <p style="font-size: 14px; color: #1f2937; opacity: 0.7;">                        üìç ${order.customer_address}                      </p>                    </div>                    <div style="text-align: right;">                      <p style="font-size: 14px; color: #1f2937; opacity: 0.7; margin-bottom: 8px;">                        ${order.date.toLocaleString('id-ID')}                      </p>                      <span style="display: inline-block; padding: 6px 12px; border-radius: 20px; font-size: 14px; font-weight: 600; background: ${order.status === 'completed' ? '#10b981' : order.status === 'processing' ? '#f59e0b' : '#6b7280'}; color: white;">                        ${order.status === 'pending' ? 'Menunggu' : order.status === 'processing' ? 'Diproses' : 'Selesai'}                      </span>                    </div>                  </div>                  <div style="border-top: 1px solid #f8fafc; padding-top: 16px; margin-bottom: 16px;">                    <h4 style="font-size: 16px; color: #1f2937; margin-bottom: 12px; font-weight: bold;">                      Item Pesanan:                    </h4>                    ${order.items.map(item => `                      <div style="display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px; color: #1f2937;">                        <span>                          ${item.name} ${item.hasWeight ? `(${item.weight}kg)` : ''} x ${item.quantity}                        </span>                        <span style="font-weight: 600;">                          Rp ${item.totalPrice.toLocaleString('id-ID')}                        </span>                      </div>                    `).join('')}                    <div style="display: flex; justify-content: space-between; margin-top: 12px; padding-top: 12px; border-top: 2px solid #667eea; font-size: 18px; font-weight: bold; color: #667eea;">                      <span>Total:</span>                      <span>Rp ${order.total.toLocaleString('id-ID')}</span>                    </div>                  </div>                  ${order.status !== 'completed' ? `                    <div style="display: flex; gap: 12px; flex-wrap: wrap;">                      ${order.status === 'pending' ? `                        <button onclick="updateStatus('${order.id}', 'processing')" style="background: #f59e0b; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600;">                          Proses Pesanan                        </button>                      ` : ''}                      ${order.status === 'processing' ? `                        <button onclick="updateStatus('${order.id}', 'completed')" style="background: #10b981; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 600;">                          Selesaikan Pesanan                        </button>                      ` : ''}                    </div>                  ` : ''}                </div>              `).join('')}            </div>          `}        </div>      `;    }    function renderModal() {      const isEdit = state.modalType === 'edit';      const product = state.editingProduct;      return `        <div class="modal-overlay" onclick="handleModalClick(event)">          <div class="modal-content" onclick="event.stopPropagation()">            <div style="padding: 24px;">              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">                <h3 style="font-size: 24px; color: #1f2937; font-weight: bold; margin: 0;">                  ${isEdit ? 'Edit Produk' : 'Tambah Produk Baru'}                </h3>                <button onclick="closeModal()" class="close-btn">‚úï</button>              </div>              <form id="product-form" onsubmit="submitProductForm(event)">                <div style="margin-bottom: 16px;">                  <label for="product-name" style="display: block; font-size: 16px; color: #1f2937; margin-bottom: 8px; font-weight: 600;">                    Nama Produk *                  </label>                  <input id="product-name" type="text" required value="${isEdit ? product.name : ''}" style="width: 100%; padding: 12px 16px; border-radius: 12px; border: 2px solid #f8fafc; font-size: 16px; color: #1f2937;" placeholder="Contoh: Ayam Potong Segar">                </div>                <div style="margin-bottom: 16px;">                  <label for="product-category" style="display: block; font-size: 16px; color: #1f2937; margin-bottom: 8px; font-weight: 600;">                    Kategori *                  </label>                  <select id="product-category" required style="width: 100%; padding: 12px 16px; border-radius: 12px; border: 2px solid #f8fafc; font-size: 16px; color: #1f2937; background: white;">                    <option value="">Pilih Kategori</option>                    ${CATEGORIES.filter(c => c !== 'Semua').map(cat => `                      <option value="${cat}" ${isEdit && product.category === cat ? 'selected' : ''}>${cat}</option>                    `).join('')}                  </select>                </div>                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px;">                  <div>                    <label for="product-price" style="display: block; font-size: 16px; color: #1f2937; margin-bottom: 8px; font-weight: 600;">                      Harga *                    </label>                    <input id="product-price" type="number" required min="0" value="${isEdit ? product.price : ''}" style="width: 100%; padding: 12px 16px; border-radius: 12px; border: 2px solid #f8fafc; font-size: 16px; color: #1f2937;" placeholder="35000">                  </div>                  <div>                    <label for="product-unit" style="display: block; font-size: 16px; color: #1f2937; margin-bottom: 8px; font-weight: 600;">                      Satuan *                    </label>                    <select id="product-unit" required style="width: 100%; padding: 12px 16px; border-radius: 12px; border: 2px solid #f8fafc; font-size: 16px; color: #1f2937; background: white;">                      <option value="kg" ${isEdit && product.unit === 'kg' ? 'selected' : ''}>kg</option>                      <option value="pack" ${isEdit && product.unit === 'pack' ? 'selected' : ''}>pack</option>                      <option value="pcs" ${isEdit && product.unit === 'pcs' ? 'selected' : ''}>pcs</option>                    </select>                  </div>                </div>                <div style="margin-bottom: 16px;">                  <label for="product-stock" style="display: block; font-size: 16px; color: #1f2937; margin-bottom: 8px; font-weight: 600;">                    Stok *                  </label>                  <input id="product-stock" type="number" required min="0" value="${isEdit ? product.stock : ''}" style="width: 100%; padding: 12px 16px; border-radius: 12px; border: 2px solid #f8fafc; font-size: 16px; color: #1f2937;" placeholder="50">                </div>                <div style="margin-bottom: 16px;">  <label for="product-image" style="display: block; font-size: 16px; color: #1f2937; margin-bottom: 8px; font-weight: 600;">    Gambar Produk *  </label>  <input id="product-image" type="file" accept="image/*" required style="width: 100%; padding: 12px 16px; border-radius: 12px; border: 2px solid #f8fafc; font-size: 16px; color: #1f2937; background-color: #ffffff;">  <p style="font-size: 12px; color: #1f2937; opacity: 0.6; margin-top: 4px;">    Pilih file gambar produk dari perangkat Anda (format: JPG, PNG, WebP, dll)  </p></div>                <div style="margin-bottom: 16px;">                  <label for="product-description" style="display: block; font-size: 16px; color: #1f2937; margin-bottom: 8px; font-weight: 600;">                    Deskripsi *                  </label>                  <textarea id="product-description" required rows="3" style="width: 100%; padding: 12px 16px; border-radius: 12px; border: 2px solid #f8fafc; font-size: 16px; color: #1f2937; resize: vertical;" placeholder="Deskripsi produk...">${isEdit ? product.description : ''}</textarea>                </div>                <div style="margin-bottom: 24px;">                  <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">                    <input id="product-hasweight" type="checkbox" ${isEdit && product.hasWeight ? 'checked' : ''} style="width: 20px; height: 20px; cursor: pointer;">                    <span style="font-size: 16px; color: #1f2937; font-weight: 600;">                      Produk dengan pilihan berat (gram/kg)                    </span>                  </label>                </div>                <div style="display: flex; gap: 12px;">                  <button onclick="closeModal()" style="flex: 1; background: #f8fafc; color: #1f2937; border: none; padding: 14px; border-radius: 12px; cursor: pointer; font-size: 16px; font-weight: 600;">          Batal        </button>                  <button type="submit" ${state.isLoading ? 'disabled' : ''} style="flex: 1; background: ${state.isLoading ? '#f8fafc' : '#667eea'}; color: white; border: none; padding: 14px; border-radius: 12px; cursor: ${state.isLoading ? 'not-allowed' : 'pointer'}; font-size: 16px; font-weight: 600;">                    ${state.isLoading ? 'Menyimpan...' : (isEdit ? 'Update Produk' : 'Tambah Produk')}                  </button>                </div>              </form>            </div>          </div>        </div>      `;    }      function renderToast() {      return `        <div class="toast" style="background: ${state.toast.type === 'error' ? '#ef4444' : '#667eea'}; color: white;">          ${state.toast.message}        </div>      `;    }    // Event Listeners    function attachEventListeners() {      state.products.forEach(product => {        const weightContainer = document.getElementById(`weight-${product.id}`);        if (weightContainer) {          const firstOption = weightContainer.querySelector('.weight-option');          if (firstOption) {            firstOption.classList.add('selected');          }        }      });    }    // Global Functions    window.navigateTo = function(page) {      state.currentPage = page;      render();    };    window.selectCategory = function(category) {      state.selectedCategory = category;      render();    };    window.selectWeight = function(productId, weight) {      const container = document.getElementById(`weight-${productId}`);      const options = container.querySelectorAll('.weight-option');      options.forEach(opt => opt.classList.remove('selected'));            const selectedOption = Array.from(options).find(opt =>         parseFloat(opt.dataset.weight) === weight      );      if (selectedOption) {        selectedOption.classList.add('selected');      }      updateProductTotal(productId);    };    window.updateQuantity = function(productId, change) {      const quantityEl = document.getElementById(`quantity-${productId}`);      const product = state.products.find(p => p.id === productId);      let currentQty = parseInt(quantityEl.textContent);      let newQty = Math.max(1, Math.min(product.stock, currentQty + change));      quantityEl.textContent = newQty;      updateProductTotal(productId);    };    function updateProductTotal(productId) {      const product = state.products.find(p => p.id === productId);      const quantityEl = document.getElementById(`quantity-${productId}`);      const totalEl = document.getElementById(`total-${product.id}`);      const quantity = parseInt(quantityEl.textContent);            let weight = 1;      if (product.hasWeight) {        const weightContainer = document.getElementById(`weight-${productId}`);        const selectedOption = weightContainer.querySelector('.weight-option.selected');        weight = selectedOption ? parseFloat(selectedOption.dataset.weight) : 1;      }            const total = product.price * weight * quantity;      totalEl.textContent = `Rp ${total.toLocaleString('id-ID')}`;    }    window.addProductToCart = function(productId) {      const product = state.products.find(p => p.id === productId);      const quantityEl = document.getElementById(`quantity-${productId}`);      const quantity = parseInt(quantityEl.textContent);            let weight = 1;      if (product.hasWeight) {        const weightContainer = document.getElementById(`weight-${productId}`);        const selectedOption = weightContainer.querySelector('.weight-option.selected');        weight = selectedOption ? parseFloat(selectedOption.dataset.weight) : 1;      }            addToCart(product, weight, quantity);    };    window.updateCartItemQuantity = function(cartId, newQuantity) {      updateCartQuantity(cartId, newQuantity);    };    window.removeCartItem = function(cartId) {      removeFromCart(cartId);    };    window.submitCheckout = function(event) {      event.preventDefault();      const formData = {        name: document.getElementById('customer-name').value,        phone: document.getElementById('customer-phone').value,        address: document.getElementById('customer-address').value      };      handleCheckout(formData);    };    window.updateStatus = function(orderId, newStatus) {      updateOrderStatus(orderId, newStatus);    };    window.logoutAdmin = function() {      state.isAdmin = false;      state.currentPage = 'home';      showToast('Logout berhasil');      render();    };    window.openProductModal = function(type, productId = null) {      const product = productId ? state.products.find(p => p.id === productId) : null;      openModal(type, product);    };    window.closeModal = function() {      closeModal();    };    window.handleModalClick = function(event) {      if (event.target.classList.contains('modal-overlay')) {        closeModal();      }    };    window.submitProductForm = function(event) {      event.preventDefault();            const formData = {        name: document.getElementById('product-name').value,        category: document.getElementById('product-category').value,        price: document.getElementById('product-price').value,        unit: document.getElementById('product-unit').value,        stock: document.getElementById('product-stock').value,        image: document.getElementById('product-image').value,        description: document.getElementById('product-description').value,        hasWeight: document.getElementById('product-hasweight').checked      };      if (state.modalType === 'edit') {        handleUpdateProduct(formData);      } else {        handleCreateProduct(formData);      }    };    window.requestDelete = function(productId) {      state.deleteConfirm = productId;      render();    };    window.cancelDelete = function() {      state.deleteConfirm = null;      render();    };    window.confirmDelete = function(productId) {      handleDeleteProduct(productId);    };    // Initialize App    render();  </script>    </body></html>